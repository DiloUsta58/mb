/* ==================================================
   THEME SYSTEM (LIGHT + DARK)
================================================== */

:root{
    --bg-gradient: linear-gradient(180deg,#f4f6f8,#e9edf2);
    --container-bg: rgba(255,255,255,0.75);
    --card-bg: #ffffff;
    --table-head: linear-gradient(180deg,#f7f9fb,#eef2f6);

    --text-main:#1c1c1c;
    --text-muted:#666;
    --border:#e2e6ea;
    --row-hover:#f8fbff;

    --input-bg:#f9fbfd;
    --input-border:#d0d7de;
    --accent:#4c9ffe;

    --shadow-soft:0 4px 14px rgba(0,0,0,0.06);
}

/* üåô DARK THEME */
[data-theme="dark"]{

    /* ===== SURFACES ===== */
    --bg-gradient: linear-gradient(180deg,#252525,#2f2d2d);
    --container-bg: rgba(38,38,38,0.75);
    --card-bg:#2b2b2b;
    --table-head:#313131;

    /* ===== TEXT ===== */
    --text-main:#e6e6e6;     /* einzig hell */
    --text-muted:#a1a1a1;

    /* ===== LINES ===== */
    --border:#3a3a3a;
    --row-hover:#343434;

    /* ===== INPUTS ===== */
    --input-bg:#262626;
    --input-border:#4a4a4a;

    /* ===== ACCENT ===== */
    --accent:#4c9ffe;

    /* ===== SHADOW ===== */
    --shadow-soft:0 10px 28px rgba(0,0,0,0.55);
}





/* ===== RESET ===== */
*{
    box-sizing:border-box;
    margin:0;
    padding:0;
}

body{
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
    background: var(--bg-gradient);
    color: var(--text-main);

    padding:20px;
}

/* ===== CONTAINER ===== */
.container{
    background: var(--container-bg);
    backdrop-filter: blur(12px);
    border-radius:16px;
    padding:24px;
    max-width:1200px;
    margin:auto;
    box-shadow:
        0 10px 25px rgba(0,0,0,0.08),
        inset 0 1px 0 rgba(255,255,255,0.6);
}

/* ===== HEADER ===== */
h1{
    font-size:28px;
    font-weight:600;
    margin-bottom:6px;
}

.date{
    color:#666;
    margin-bottom:22px;
}

/* ===== TABLE BASE ===== */
table{
    width:100%;
    border-collapse:separate;
    border-spacing:0;
    overflow:hidden;
    border-radius:14px;

    background:var(--card-bg);        /* ‚Üê war white */
    box-shadow:var(--shadow-soft);    /* ‚Üê war fixer Shadow */
}

/* Header */
thead{
    background: var(--table-head);
}

th{
    padding:14px 12px;
    font-weight:600;
    font-size:15px;
    text-align:left;
    border-bottom:1px solid var(--border);
}

/* Group headline */
.group{
    text-align:center;
    font-size:18px;
    letter-spacing:0.4px;
}

/* Rows */
td{
    padding:10px 12px;
    border-bottom:1px solid var(--border);
    font-size:15px;
}

tbody tr:last-child td{
    border-bottom:none;
}

tbody tr:hover{
    background:var(--row-hover);
}

/* Numbers centered */
td:nth-child(n+3){
    text-align:center;
    font-weight:500;
}

/* ===== INPUT FIELDS ===== */
td input{
    width:70px;
    padding:6px;
    border-radius:8px;
    background:var(--input-bg);
    border:1px solid var(--input-border);
    color:var(--text-main);

    font-size:15px;
    text-align:center;
    transition:all .15s ease;
}

td input:focus{
    outline:none;
    border:1px solid var(--accent);
    background:var(--card-bg);
    box-shadow:0 0 0 3px rgba(59,130,246,0.25);
}

/* Gesamt Spalte */
.total{
    font-weight:700;
    color:var(--accent);   /* ‚Üê war hartes Blau */
}


/* ===== COLUMN WIDTHS DESKTOP ===== */
.col-name{ width:40%; }
.col-art{ width:15%; }
.col-num{ width:11.25%; }

/* ============================= */
/* ======== TABLET VIEW ======== */
/* ============================= */
@media (max-width: 1000px){

    h1{ font-size:24px; }

    th{ font-size:14px; padding:12px 8px; }
    td{ font-size:14px; padding:10px 8px; }

    td input{
        width:60px;
        font-size:14px;
    }
}

/* ============================= */
/* ======== MOBILE VIEW ======== */
/* ============================= */
@media (max-width: 700px){

    body{ padding:10px; }

    .container{
        padding:14px;
        border-radius:12px;
    }

    h1{ font-size:20px; }

    table{
        font-size:13px;
    }

    th{
        font-size:12px;
        padding:10px 6px;
    }

    td{
        padding:8px 6px;
        font-size:13px;
    }

    td input{
        width:52px;
        padding:5px;
        font-size:13px;
    }

    .group{
        font-size:15px;
    }
}

/* ===== SEEDS TABELLE ===== */

.subTitle{
    margin-top:30px;
    margin-bottom:10px;
    font-size:20px;
    font-weight:600;
}

/* kleine Seeds Tabelle */
.seedsTable{
    max-width:350px;
}

.seedsTable td:nth-child(2),
.seedsTable th:nth-child(2){
    text-align:center;
}

/* ===== TABLES SIDE BY SIDE ===== */
.tables-wrapper{
    display:flex;
    gap:30px;
    align-items:flex-start;
}

/* Haupttabelle nimmt Platz */
.main-table{
    flex:1;
}

/* Seeds Karte rechts */
.seeds-wrapper{
    width:260px;
    background:var(--card-bg);
    box-shadow:var(--shadow-soft);
    padding:16px;
    border-radius:14px;
}

/* Mobile ‚Üí untereinander */
@media (max-width:900px){
    .tables-wrapper{
        flex-direction:column;
    }

    .seeds-wrapper{
        width:100%;
    }
}

/* √úberschrift Seeds b√ºndig mit Tabelle */
.seeds-wrapper .subTitle{
    margin-top:0;
}

.kw-bar{
    display:flex;
    align-items:center;
    gap:12px;
    margin-bottom:20px;
}

#kwSelect{
    padding:6px 10px;
    border-radius:8px;
    border:1px solid var(--input-border);
    font-size:15px;

    background:var(--input-bg);
    color:var(--text-main);
}

#printBtn{
    padding:6px 14px;
    border-radius:8px;
    border:1px solid var(--input-border);

    background:var(--card-bg);
    color:var(--text-main);
    cursor:pointer;
    transition:.15s;
}

#printBtn:hover{
    background:var(--row-hover);
}

#themeToggle{
    padding:6px 14px;
    border-radius:8px;
    border:1px solid var(--input-border);

    background:var(--card-bg);
    color:var(--text-main);
    cursor:pointer;
    transition:.15s;
}

#themeToggle:hover{
    background:var(--row-hover);
}

/* ================= PRINT MODE A4 LANDSCAPE ================= */
@media print {

    @page{
        size: A4 landscape;
        margin:10mm;
    }

html, body{
    background:white;
    margin:0;
    padding:0;
    font-family: Arial, Helvetica, sans-serif;
}

    /* Wird nur w√§hrend Druck aktiv */
    .print-light{
        color-scheme: light;
    }

    /* UI ausblenden */
    .kw-bar,
    button{
        display:none !important;
    }

    /* Container neutralisieren */
    .container{
        max-width:none;
        padding:0;
        margin:0;
        box-shadow:none;
        backdrop-filter:none;
    }

    h1{
        font-size:22px;
        margin:0 0 4px 0;
    }

    .date{
        margin-bottom:10px;
    }

    /* Hauptlayout: Tabellen nebeneinander erzwingen */
    /* Tabellen im Druck UNTEREINANDER */
    .tables-wrapper{
        display:block;
        page-break-inside:avoid;
        break-inside:avoid;
    }

    .main-table-wrapper{
        width:100%;
        margin-bottom:18px;
    }

    .seeds-wrapper{
        width:350px;   /* kleine kompakte Seeds Tabelle */
        margin-top:10px;
    }


    /* Inputs verschwinden ‚Üí Zahlen anzeigen */
    input{
        display:none;
    }

    td::after{
        content: attr(data-print);
        font-weight:600;
    }

    /* Druck Schriftgr√∂√üen optimieren */
        table{
            font-size:16px;      /* deutlich besser lesbar */
        }

        th{
            font-size:17px;
            padding:8px;
        }

        td{
            padding:8px;
        }

        .seeds-wrapper table{
            font-size:16px;
        }
        /* verhindert leere Folgeseiten */
        *{
            page-break-after:auto !important;
        }

        body::after{
            content:none !important;
            display:none !important;
        }

}

.footer{
    margin-top:30px;
    text-align:center;
    font-size:14px;
    color:var(--text-muted);
}

.footerCopyright{
    margin-top:30px;
    text-align:center;
    font-size:14px;
    color:var(--text-muted);
}

#resetBtn{
    padding:6px 14px;
    border-radius:8px;
    border:1px solid #e54848;
    background:#fff5f5;
    color:#c62828;
    cursor:pointer;
}

#resetBtn:hover{
    background:#ffe3e3;
}

.print-header{
    display:none;
}

@media print{
    .print-header{
        display:block;
        font-size:20px;
        font-weight:600;
        margin-bottom:12px;
    }
    .footerCopyright{
        display:none;
    }       
}

.reset-panel{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.25);
    backdrop-filter:blur(6px);
    display:flex;
    flex-direction:column;
    gap:10px;
    padding:20px;
    justify-content:center;
    align-items:center;
}

.reset-panel h3{
    margin-bottom:10px;
}

.reset-panel select{
    padding:6px 10px;
    border-radius:8px;
}

.reset-actions{
    margin-top:10px;
    display:flex;
    gap:10px;
}

.hidden{ display:none; }

/* ===============================
   UPDATE BANNER
=============================== */

#updateBanner{
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: #111;
    color: white;
    padding: 14px 22px;
    border-radius: 14px;
    font-weight: 600;
    box-shadow: 0 10px 25px rgba(0,0,0,.25);
    display: none;
    z-index: 9999;
}

#updateBanner button{
    margin-left: 14px;
    padding: 6px 12px;
    border-radius: 8px;
    border: none;
    background: #0a84ff;
    color: white;
    cursor: pointer;
}

/* =====================================
   TABELLEN WRAPPER (DESKTOP)
===================================== */
.tables-wrapper{
    display:flex;
    gap:30px;
    align-items:flex-start;
}

.main-table{
    width:100%;
}
.seeds-wrapper{
    width:100%;
}


/* Seeds etwas kompakter */
.seedsTable input{
    width:80px;
    text-align:center;
}


/* =====================================
   TABLET / HANDY QUERFORMAT
   -> nebeneinander lassen
===================================== */
@media (min-width:769px) and (max-width:1024px){
    .main-table{ width:65%; }
    .seeds-wrapper{ width:35%; }
}


/* =====================================
   HANDY HOCHFORMAT
   -> untereinander + Artikelnummer ausblenden
===================================== */
@media (max-width:768px) {

    .tables-wrapper{
        flex-direction:column;
        gap:25px;
    }

    .main-table,
    .seeds-wrapper{
        width:100%;
    }

    /* Zahlen gr√∂√üer f√ºr Touch */
    #inventoryTable input{
        width:65px;
        font-size:16px;
        padding:6px;
    }

    .seedsTable{
        font-size:18px;
    }

    .seedsTable input{
        width:100px;
        font-size:18px;
        padding:6px;
    }
}

/* =====================================
MOBILE LAYOUT ‚Äì FINAL
Spalten behalten: vor Ort | im Lager | Gesamt
Ausblenden: Artikelnummer + Aufbau
===================================== */
@media (max-width:768px){

    /* ===== Container Fullwidth ===== */
    body{ padding:8px; }

    .container{
        max-width:100%;
        width:100%;
        padding:16px;
        margin:0;
    }

    /* ===== Spalten AUSBLENDEN ===== */

   /* =====================================
    MOBILE ‚Äì Spalten korrekt ausblenden
    ===================================== */


    /* ========= BODY ========= */

    /* Artikelnummer (Spalte 2) */
    #inventoryTable tbody td:nth-child(2){
        display:none;
    }

    /* Aufbau (Spalte 5) */
    #inventoryTable tbody td:nth-child(5){
        display:none;
    }


    /* ========= HEADER ‚Äì ZEILE 1 ========= */

    /* Artikelnummer Header entfernen */
    #inventoryTable thead tr:first-child th:nth-child(2){
        display:none;
    }


    /* ========= HEADER ‚Äì ZEILE 2 ========= */

    /* Aufbau Header entfernen */
    #inventoryTable thead tr:nth-child(2) th:nth-child(3){
        display:none;
    }

    /* ===== INPUTS gr√∂√üer f√ºr Touch ===== */
    #inventoryTable input{
        width:65px;
        font-size:16px;
        padding:6px;
    }

    /* ===== Seeds gr√∂√üer ===== */
    .seedsTable{
        font-size:18px;
    }

    .seedsTable input{
        width:100px;
        font-size:18px;
        padding:6px;
    }

    /* ===== Buttons unter Header umbrechen ===== */
    .kw-bar{
        display:flex;
        flex-wrap:wrap;
        gap:10px;
        align-items:center;
    }

    .kw-bar label{
        width:100%;
        font-weight:600;
    }

    #kwSelect{
        flex:1;
        min-width:140px;
    }

    .currentWeekInfo{
        width:100%;
        opacity:.7;
        font-size:14px;
    }

    #printBtn,
    #themeToggle,
    #resetBtn{
        flex:1;
        min-width:120px;
    }
    /* Wird nur w√§hrend Druck aktiv */
    .print-light{
        color-scheme: light;
    }

}

